---
import techStack from '../data/techStack.json';

// Map of tech titles to their corresponding icons
// Using simple emoji as placeholders - you can replace with actual icon components if needed
const techIcons: Record<string, string> = {
  "Java": "☕",
  "PHP": "🐘",
  "Javascript": "🟨",
  "Python": "🐍",
  "Databases": "🗄️",
  "Data Warehouses": "📊",
  "Business Intelligence": "📈",
  "Data Analytics": "📉",
  "Automations": "🤖",
  "CSS": "🎨"
};
---

<section class="my-16">
  <h2 class="title mb-4 text-xl">Tech Stack</h2>
  
  <!-- Mobile Accordion View -->
  <div class="md:hidden">
    <details class="accordion-item rounded-lg border border-opacity-20 dark:border-opacity-10 border-slate-400 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 overflow-hidden">
      <summary class="p-3 cursor-pointer flex items-center">
        <div class="icon-container flex items-center justify-center text-xl mr-3 p-1.5 rounded-full bg-slate-100 dark:bg-slate-700" aria-hidden="true">
          🧰
        </div>
        <h3 class="font-bold text-base">My Tech Stack</h3>
        <span class="ml-auto text-lg accordion-icon">+</span>
      </summary>
      <div class="p-3 pt-3 border-t border-slate-200 dark:border-slate-700">
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
          {techStack.map(tech => (
            <a 
              href={tech.href} 
              class="group"
              rel="noreferrer"
              target="_blank"
            >
              <div class="h-full p-3 rounded-lg border border-opacity-20 dark:border-opacity-10 border-slate-400 dark:border-slate-700 transition-all duration-300 hover:shadow-md hover:scale-[1.02] hover:border-theme-accent bg-slate-50 dark:bg-slate-800 flex flex-col">
                <div class="flex items-center mb-1">
                  <span class="text-xl mr-2 icon-container" aria-hidden="true">{techIcons[tech.title] || "🔧"}</span>
                  <h3 class="font-bold text-base group-hover:text-theme-accent transition-colors">{tech.title}</h3>
                </div>
                <p class="text-xs text-opacity-80 text-slate-700 dark:text-slate-300">{tech.desc}</p>
              </div>
            </a>
          ))}
        </div>
      </div>
    </details>
  </div>
  
  <!-- Desktop Grid View -->
  <div class="hidden md:grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3">
    {techStack.map(tech => (
      <a 
        href={tech.href} 
        class="group"
        rel="noreferrer"
        target="_blank"
      >
        <div class="h-full p-3 rounded-lg border border-opacity-20 dark:border-opacity-10 border-slate-400 dark:border-slate-700 transition-all duration-300 hover:shadow-md hover:scale-[1.02] hover:border-theme-accent bg-slate-50 dark:bg-slate-800 flex flex-col">
          <div class="flex items-center mb-1">
            <span class="text-xl mr-2 icon-container" aria-hidden="true">{techIcons[tech.title] || "🔧"}</span>
            <h3 class="font-bold text-base group-hover:text-theme-accent transition-colors">{tech.title}</h3>
          </div>
          <p class="text-xs text-opacity-80 text-slate-700 dark:text-slate-300">{tech.desc}</p>
        </div>
      </a>
    ))}
  </div>
</section>

<style>
  .text-theme-accent {
    color: hsl(var(--theme-accent));
  }
  
  .hover\:border-theme-accent:hover {
    border-color: hsl(var(--theme-accent));
  }
  
  .icon-container {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.3s ease;
  }
  
  .group:hover .icon-container {
    transform: scale(1.2);
  }
  
  /* Accordion styles */
  details.accordion-item {
    transition: all 0.3s ease;
  }
  
  details.accordion-item summary {
    list-style: none;
    transition: all 0.3s ease;
  }
  
  details.accordion-item summary::-webkit-details-marker {
    display: none;
  }
  
  details.accordion-item[open] summary .accordion-icon {
    transform: rotate(45deg);
  }
  
  details.accordion-item summary .accordion-icon {
    transition: transform 0.3s ease;
  }
  
  details.accordion-item:hover {
    border-color: hsl(var(--theme-accent));
  }
  
  @media (prefers-color-scheme: dark) {
    .dark\:border-slate-700 {
      border-color: rgb(51, 65, 85);
    }
    
    .dark\:bg-slate-800 {
      background-color: rgb(30, 41, 59);
    }
    
    .dark\:text-slate-300 {
      color: rgb(203, 213, 225);
    }
    
    .dark\:bg-slate-700 {
      background-color: rgb(51, 65, 85);
    }
  }
</style> 